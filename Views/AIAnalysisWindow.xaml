<Window x:Class="AssignmentPRN212.Views.AIAnalysisWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AI PhÃ¢n tÃ­ch dá»¯ liá»‡u" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">
    
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="White" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ¤– AI PhÃ¢n tÃ­ch dá»¯ liá»‡u" FontSize="20" FontWeight="Bold" 
                          Foreground="#2196F3" VerticalAlignment="Center" Margin="0,0,20,0"/>
                <Button x:Name="AnalyzeDataButton" Content="ðŸ“Š PhÃ¢n tÃ­ch dá»¯ liá»‡u" Width="150" Height="35"
                        Background="#4CAF50" Foreground="White" FontWeight="SemiBold"
                        BorderThickness="0" Cursor="Hand" Click="AnalyzeDataButton_Click"
                        Margin="0,0,10,0">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#45A049"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                <Button x:Name="AnalyzeCarUsageButton" Content="ðŸš— PhÃ¢n tÃ­ch sá»­ dá»¥ng xe" Width="180" Height="35"
                        Background="#FF9800" Foreground="White" FontWeight="SemiBold"
                        BorderThickness="0" Cursor="Hand" Click="AnalyzeCarUsageButton_Click"
                        Margin="0,0,10,0">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#F57C00"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                <Button Content="ðŸ”„ LÃ m má»›i" Width="100" Height="35"
                        Background="#9E9E9E" Foreground="White" FontWeight="SemiBold"
                        BorderThickness="0" Cursor="Hand" Click="RefreshButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#757575"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
        
        <!-- Content Area -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Data Analysis Results -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ“Š Káº¿t quáº£ phÃ¢n tÃ­ch dá»¯ liá»‡u" FontSize="18" FontWeight="Bold" 
                                  Foreground="#2196F3" Margin="0,0,0,15"/>
                        <TextBlock x:Name="AnalysisResultTextBlock" Text="Nháº¥n 'PhÃ¢n tÃ­ch dá»¯ liá»‡u' Ä‘á»ƒ xem káº¿t quáº£..." 
                                  FontSize="14" TextWrapping="Wrap" Foreground="#666" 
                                  MinHeight="100" Margin="0,0,0,10"/>
                        <Border Background="#E3F2FD" CornerRadius="5" Padding="10" Visibility="Collapsed" x:Name="AnalysisDetailsBorder">
                            <StackPanel>
                                <TextBlock x:Name="TotalOrdersTextBlock" FontSize="14" Margin="0,0,0,5"/>
                                <TextBlock x:Name="TotalRevenueTextBlock" FontSize="14" Margin="0,0,0,5"/>
                                <TextBlock x:Name="TotalCarsTextBlock" FontSize="14" Margin="0,0,0,5"/>
                                <TextBlock x:Name="TotalUsersTextBlock" FontSize="14" Margin="0,0,0,5"/>
                                <TextBlock x:Name="AnalysisInsightsTextBlock" FontSize="14" TextWrapping="Wrap" Margin="0,5,0,0" Foreground="#1976D2"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
                
                <!-- Car Usage Analysis Results -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸš— PhÃ¢n tÃ­ch sá»­ dá»¥ng xe" FontSize="18" FontWeight="Bold" 
                                  Foreground="#FF9800" Margin="0,0,0,15"/>
                        <DataGrid x:Name="CarUsageDataGrid" AutoGenerateColumns="False" 
                                 CanUserAddRows="False" CanUserDeleteRows="False"
                                 HeadersVisibility="Column" GridLinesVisibility="None"
                                 RowBackground="#FFFFFF" AlternatingRowBackground="#F7F7F7"
                                 FontSize="12" MaxHeight="400">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="TÃªn xe" Binding="{Binding CarName}" Width="150"/>
                                <DataGridTextColumn Header="Sá»‘ láº§n thuÃª" Binding="{Binding RentalCount}" Width="100"/>
                                <DataGridTextColumn Header="Tá»•ng doanh thu" Binding="{Binding TotalRevenue, StringFormat={}{0:N0} VNÄ}" Width="150"/>
                                <DataGridTextColumn Header="Tá»· lá»‡ sá»­ dá»¥ng (%)" Binding="{Binding UsageRate, StringFormat={}{0:F2}%}" Width="120"/>
                                <DataGridTextColumn Header="ÄÃ¡nh giÃ¡ trung bÃ¬nh" Binding="{Binding AverageRating, StringFormat={}{0:F2}}" Width="130"/>
                                <DataGridTextColumn Header="Ghi chÃº" Binding="{Binding Notes}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                        <TextBlock x:Name="CarUsageEmptyTextBlock" Text="Nháº¥n 'PhÃ¢n tÃ­ch sá»­ dá»¥ng xe' Ä‘á»ƒ xem káº¿t quáº£..." 
                                  FontSize="14" Foreground="#666" Margin="10" 
                                  HorizontalAlignment="Center" Visibility="Visible"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>

