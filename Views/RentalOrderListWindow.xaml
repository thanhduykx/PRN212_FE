<Window x:Class="AssignmentPRN212.Views.RentalOrderListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Danh sÃ¡ch ÄÆ¡n hÃ ng thuÃª xe" Height="700" Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="#F0F0F0">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="220"/>
        </Grid.RowDefinitions>

        <!-- Search Box -->
        <Border Grid.Row="0" Background="White" CornerRadius="5" Padding="10" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ”" FontSize="18" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="SearchTextBox" Width="300" Height="30" 
                         Padding="5" VerticalContentAlignment="Center"
                         TextChanged="SearchTextBox_TextChanged"
                         Tag="TÃ¬m kiáº¿m theo SÄT, Status, UserId..."/>
                <TextBlock Text="Tá»•ng sá»‘: " FontWeight="SemiBold" VerticalAlignment="Center" Margin="20,0,5,0"/>
                <TextBlock x:Name="TotalCountTextBlock" Text="0" FontWeight="Bold" VerticalAlignment="Center" Foreground="#2196F3"/>
            </StackPanel>
        </Border>

        <!-- DataGrid -->
        <DataGrid x:Name="RentalOrderDataGrid" AutoGenerateColumns="False" SelectionMode="Single"
                  CanUserAddRows="False" CanUserDeleteRows="False"
                  Grid.Row="1" Margin="0,0,0,10" 
                  HeadersVisibility="Column"
                  RowBackground="#FFFFFF" AlternatingRowBackground="#F7F7F7"
                  GridLinesVisibility="None"
                  SelectionChanged="RentalOrderDataGrid_SelectionChanged"
                  FontSize="12" FontWeight="Normal">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                <DataGridTextColumn Header="SÄT" Binding="{Binding PhoneNumber}" Width="100"/>
                <DataGridTextColumn Header="NgÃ y Ä‘áº·t" Binding="{Binding OrderDate, StringFormat=dd/MM/yyyy}" Width="100"/>
                <DataGridTextColumn Header="Láº¥y xe" Binding="{Binding PickupTime, StringFormat=dd/MM/yyyy HH:mm}" Width="120"/>
                <DataGridTextColumn Header="Tráº£ xe" Binding="{Binding ExpectedReturnTime, StringFormat=dd/MM/yyyy HH:mm}" Width="120"/>
                <DataGridTextColumn Header="Tá»•ng tiá»n" Binding="{Binding Total, StringFormat=N0}" Width="100"/>
                <DataGridTextColumn Header="CÃ³ tÃ i xáº¿" Binding="{Binding WithDriverText}" Width="80"/>
                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                <DataGridTextColumn Header="User ID" Binding="{Binding UserId}" Width="70"/>
                <DataGridTextColumn Header="Car ID" Binding="{Binding CarId}" Width="70"/>
                <DataGridTextColumn Header="Location ID" Binding="{Binding RentalLocationId}" Width="90"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Panel thÃ´ng tin chi tiáº¿t -->
        <Border Grid.Row="2" Background="White" CornerRadius="10" Padding="15" 
                Margin="0,0,0,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="ThÃ´ng tin Ä‘Æ¡n hÃ ng" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

                    <!-- Row 1: Create Order -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <Label Content="Táº¡o Ä‘Æ¡n hÃ ng má»›i:" FontWeight="Bold" VerticalAlignment="Center" Width="130"/>
                        <Label Content="SÄT:" Width="50" VerticalAlignment="Center"/>
                        <TextBox x:Name="PhoneNumberTextBox" Width="120" Margin="0,0,10,0"/>
                        <Label Content="Láº¥y xe:" Width="60" VerticalAlignment="Center"/>
                        <DatePicker x:Name="PickupDatePicker" Width="120" Margin="0,0,10,0"/>
                        <Label Content="Tráº£ xe:" Width="60" VerticalAlignment="Center"/>
                        <DatePicker x:Name="ReturnDatePicker" Width="120" Margin="0,0,10,0"/>
                        <CheckBox x:Name="WithDriverCheckBox" Content="CÃ³ tÃ i xáº¿" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <Label Content="User ID:" Width="60" VerticalAlignment="Center"/>
                        <TextBox x:Name="UserIdTextBox" Width="60" Margin="0,0,10,0"/>
                        <Label Content="Car ID:" Width="60" VerticalAlignment="Center"/>
                        <TextBox x:Name="CarIdTextBox" Width="60" Margin="0,0,10,0"/>
                        <Label Content="Location ID:" Width="80" VerticalAlignment="Center"/>
                        <TextBox x:Name="LocationIdTextBox" Width="60" Margin="0,0,10,0"/>
                        <Button Content="Táº¡o Ä‘Æ¡n" Width="80" Height="35" Background="#4CAF50" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="CreateButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#45A049"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>

                    <!-- Row 2: Update Total -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <Label Content="Cáº­p nháº­t tá»•ng tiá»n:" FontWeight="Bold" VerticalAlignment="Center" Width="130"/>
                        <Label Content="PhÃ­ phÃ¡t sinh:" Width="90" VerticalAlignment="Center"/>
                        <TextBox x:Name="ExtraFeeTextBox" Width="100" Margin="0,0,10,0"/>
                        <Label Content="PhÃ­ hÆ° há»ng:" Width="90" VerticalAlignment="Center"/>
                        <TextBox x:Name="DamageFeeTextBox" Width="100" Margin="0,0,10,0"/>
                        <Label Content="Ghi chÃº:" Width="60" VerticalAlignment="Center"/>
                        <TextBox x:Name="DamageNotesTextBox" Width="200" Margin="0,0,10,0"/>
                        <Button Content="Cáº­p nháº­t" Width="80" Height="35" Background="#2196F3" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="UpdateTotalButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#1976D2"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>

                    <!-- Row 3: Update Status -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <Label Content="Cáº­p nháº­t tráº¡ng thÃ¡i:" FontWeight="Bold" VerticalAlignment="Center" Width="130"/>
                        <ComboBox x:Name="StatusUpdateComboBox" Width="200" Height="35" Margin="0,0,10,0"
                                  VerticalContentAlignment="Center">
                            <ComboBoxItem Content="Pending" Tag="Pending"/>
                            <ComboBoxItem Content="DocumentsSubmitted" Tag="DocumentsSubmitted"/>
                            <ComboBoxItem Content="DepositPending" Tag="DepositPending"/>
                            <ComboBoxItem Content="Confirmed" Tag="Confirmed"/>
                            <ComboBoxItem Content="Renting" Tag="Renting"/>
                            <ComboBoxItem Content="Returned" Tag="Returned"/>
                            <ComboBoxItem Content="PaymentPending" Tag="PaymentPending"/>
                            <ComboBoxItem Content="Cancelled" Tag="Cancelled"/>
                            <ComboBoxItem Content="Completed" Tag="Completed"/>
                        </ComboBox>
                        <Button Content="Cáº­p nháº­t tráº¡ng thÃ¡i" Width="150" Height="35" Margin="0,0,10,0"
                                Background="#9C27B0" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="UpdateStatusButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#7B1FA2"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>

                    <!-- Row 4: Actions -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                        <Button Content="XÃ¡c nháº­n tá»•ng tiá»n" Width="140" Height="35" Margin="0,0,10,0" Background="#FF9800" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="ConfirmTotalButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#F57C00"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button Content="XÃ¡c nháº­n thanh toÃ¡n" Width="140" Height="35" Margin="0,0,10,0" Background="#9C27B0" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="ConfirmPaymentButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#7B1FA2"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button Content="Refresh" Width="100" Height="35" Margin="0,0,0,0" Background="#607D8B" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="RefreshButton_Click">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#455A64"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>

