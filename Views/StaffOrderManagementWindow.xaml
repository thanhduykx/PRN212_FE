<Window x:Class="AssignmentPRN212.Views.StaffOrderManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quáº£n lÃ½ Ä‘Æ¡n hÃ ng - NhÃ¢n viÃªn" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F0F0F0">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Filter -->
        <Border Grid.Row="0" Background="White" CornerRadius="5" Padding="15" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ”" FontSize="18" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="SearchTextBox" Width="300" Height="30" 
                         Padding="5" VerticalContentAlignment="Center"
                         TextChanged="SearchTextBox_TextChanged"/>
                <ComboBox x:Name="StatusFilterComboBox" Width="200" Height="30" Margin="20,0,0,0"
                          SelectionChanged="StatusFilterComboBox_SelectionChanged">
                    <ComboBoxItem Content="Táº¥t cáº£" IsSelected="True"/>
                    <ComboBoxItem Content="Pending" Tag="Pending"/>
                    <ComboBoxItem Content="DocumentsSubmitted" Tag="DocumentsSubmitted"/>
                    <ComboBoxItem Content="DepositPending" Tag="DepositPending"/>
                    <ComboBoxItem Content="Confirmed" Tag="Confirmed"/>
                    <ComboBoxItem Content="Renting" Tag="Renting"/>
                    <ComboBoxItem Content="Returned" Tag="Returned"/>
                    <ComboBoxItem Content="PaymentPending" Tag="PaymentPending"/>
                    <ComboBoxItem Content="Cancelled" Tag="Cancelled"/>
                    <ComboBoxItem Content="Completed" Tag="Completed"/>
                </ComboBox>
                <TextBlock Text="Tá»•ng: " FontWeight="SemiBold" VerticalAlignment="Center" Margin="20,0,5,0"/>
                <TextBlock x:Name="TotalCountTextBlock" Text="0" FontWeight="Bold" VerticalAlignment="Center" Foreground="#2196F3"/>
            </StackPanel>
        </Border>

        <!-- Orders List -->
        <DataGrid x:Name="OrdersDataGrid" AutoGenerateColumns="False" SelectionMode="Single"
                  CanUserAddRows="False" CanUserDeleteRows="False"
                  Grid.Row="1" HeadersVisibility="Column"
                  RowBackground="#FFFFFF" AlternatingRowBackground="#F7F7F7"
                  GridLinesVisibility="None"
                  SelectionChanged="OrdersDataGrid_SelectionChanged"
                  FontSize="12" FontWeight="Normal">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                <DataGridTextColumn Header="SÄT" Binding="{Binding PhoneNumber}" Width="100"/>
                <DataGridTextColumn Header="NgÃ y Ä‘áº·t" Binding="{Binding OrderDate, StringFormat=dd/MM/yyyy}" Width="100"/>
                <DataGridTextColumn Header="Nháº­n xe" Binding="{Binding PickupTime, StringFormat=dd/MM/yyyy HH:mm}" Width="130"/>
                <DataGridTextColumn Header="Tráº£ xe" Binding="{Binding ExpectedReturnTime, StringFormat=dd/MM/yyyy HH:mm}" Width="130"/>
                <DataGridTextColumn Header="Tá»•ng tiá»n" Binding="{Binding Total, StringFormat=N0}" Width="120"/>
                <DataGridTextColumn Header="Tráº¡ng thÃ¡i" Binding="{Binding Status}" Width="100"/>
                <DataGridTextColumn Header="User ID" Binding="{Binding UserId}" Width="80"/>
                <DataGridTextColumn Header="Car ID" Binding="{Binding CarId}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Action Panel -->
        <Border Grid.Row="2" Background="White" CornerRadius="5" Padding="15" Margin="0,10,0,0">
            <StackPanel>
                <TextBlock Text="ThÃ´ng tin Ä‘Æ¡n hÃ ng Ä‘Ã£ chá»n" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0">
                        <TextBlock x:Name="SelectedOrderInfoTextBlock" Text="ChÆ°a chá»n Ä‘Æ¡n hÃ ng" FontSize="14" Foreground="#666"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <Label Content="Tráº¡ng thÃ¡i:" VerticalAlignment="Center" Margin="0,0,5,0" FontWeight="SemiBold"/>
                        <ComboBox x:Name="StatusUpdateComboBox" Width="180" Height="35" Margin="0,0,10,0"
                                  VerticalContentAlignment="Center">
                            <ComboBoxItem Content="Pending" Tag="Pending"/>
                            <ComboBoxItem Content="DocumentsSubmitted" Tag="DocumentsSubmitted"/>
                            <ComboBoxItem Content="DepositPending" Tag="DepositPending"/>
                            <ComboBoxItem Content="Confirmed" Tag="Confirmed"/>
                            <ComboBoxItem Content="Renting" Tag="Renting"/>
                            <ComboBoxItem Content="Returned" Tag="Returned"/>
                            <ComboBoxItem Content="PaymentPending" Tag="PaymentPending"/>
                            <ComboBoxItem Content="Cancelled" Tag="Cancelled"/>
                            <ComboBoxItem Content="Completed" Tag="Completed"/>
                        </ComboBox>
                        <Button Content="ðŸ”„ Cáº­p nháº­t tráº¡ng thÃ¡i" Width="160" Height="40" Margin="0,0,10,0"
                                Background="#2196F3" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="UpdateStatusButton_Click"/>
                        <Button Content="ðŸ”„ Refresh" Width="100" Height="40"
                                Background="#FF9800" Foreground="White" FontWeight="SemiBold"
                                BorderThickness="0" Cursor="Hand" Click="RefreshButton_Click"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
</Window>

